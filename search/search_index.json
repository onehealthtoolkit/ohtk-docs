{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to OHTK Docs Welcome to the technical documentation for the One Health Toolkit . For getting started quickly, try following these instructions: Quick Start For specific One Health Toolkit packages: API (ohtk-api) Health Management System (ohtk-ms) Mobile App (ohtk-mobile)","title":"Home"},{"location":"#welcome-to-ohtk-docs","text":"Welcome to the technical documentation for the One Health Toolkit . For getting started quickly, try following these instructions: Quick Start For specific One Health Toolkit packages:","title":"Welcome to OHTK Docs"},{"location":"#api-ohtk-api","text":"","title":"API (ohtk-api)"},{"location":"#health-management-system-ohtk-ms","text":"","title":"Health Management System (ohtk-ms)"},{"location":"#mobile-app-ohtk-mobile","text":"","title":"Mobile App (ohtk-mobile)"},{"location":"about/","text":"502 Bad Gateway 502 Bad Gateway nginx/1.14.2","title":"About"},{"location":"api-guide/","text":"","title":"Api guide"},{"location":"api-setup/","text":"OHTK API What you'll need python 3.8 or higher pip Laravel Valet (if using a proxy over HTTP) Install Get the latest version of ohtk-api git clone https://github.com/onehealthtoolkit/ohtk-api.git cd ohtk-api It is recommended that you install the required packages via a virtual environment (such as venv ): python -m venv pickavirtualenvname source pickavirtualenvname/bin/activate Install dependencies pip install -r requirements.txt Start a Postgres Server You can use the Postgres MacOS app for an easy-to-use interface. Update database settings (config/settings.py) DATABASES = { 'default': { 'ENGINE': 'django.db.backends.postgresql_psycopg2', 'NAME': 'database name', 'USER': 'username', 'PASSWORD': 'password', 'HOST': 'localhost', 'PORT': '', } } Run Django manage.py commands python ./manage.py migrate python ./manage.py createsuperuser Test data commands ./manage.py dumpdata --format=yaml accounts> accounts/fixtures/accounts.yaml ./manage.py loaddata --format=yaml accounts Start Local Server python ./manage.py runserver http://127.0.0.1:8000 Start Proxy (using Laravel Valet ) valet proxy opensur http://127.0.0.1:8000 --secure Navigate to https://opensur.test/admin/ or http://opensur.test/graphql/ Remove a proxy using the unproxy command: valet unproxy opensur Make sure everthing is working with these test commands ./manage.py test accounts.tests.test_admin_authority_user_crud.AdminAuthorityUserTests.test_update_with_error ./manage.py test reports.tests.test_admin_category_crud.AdminCategoryTests.test_simple_query ./manage.py test cases.tests.test_admin_state_definition_crud.AdminStateDefinitionTests.test_update_with_error Next up is installing the OHTK Management System >","title":"Api setup"},{"location":"api-setup/#ohtk-api","text":"","title":"OHTK API"},{"location":"api-setup/#what-youll-need","text":"python 3.8 or higher pip Laravel Valet (if using a proxy over HTTP)","title":"What you'll need"},{"location":"api-setup/#install","text":"Get the latest version of ohtk-api git clone https://github.com/onehealthtoolkit/ohtk-api.git cd ohtk-api It is recommended that you install the required packages via a virtual environment (such as venv ): python -m venv pickavirtualenvname source pickavirtualenvname/bin/activate Install dependencies pip install -r requirements.txt","title":"Install"},{"location":"api-setup/#start-a-postgres-server","text":"You can use the Postgres MacOS app for an easy-to-use interface.","title":"Start a Postgres Server"},{"location":"api-setup/#update-database-settings-configsettingspy","text":"DATABASES = { 'default': { 'ENGINE': 'django.db.backends.postgresql_psycopg2', 'NAME': 'database name', 'USER': 'username', 'PASSWORD': 'password', 'HOST': 'localhost', 'PORT': '', } }","title":"Update database settings (config/settings.py)"},{"location":"api-setup/#run-django-managepy-commands","text":"python ./manage.py migrate python ./manage.py createsuperuser","title":"Run Django manage.py commands"},{"location":"api-setup/#test-data-commands","text":"./manage.py dumpdata --format=yaml accounts> accounts/fixtures/accounts.yaml ./manage.py loaddata --format=yaml accounts","title":"Test data commands"},{"location":"api-setup/#start-local-server","text":"python ./manage.py runserver http://127.0.0.1:8000","title":"Start Local Server"},{"location":"api-setup/#start-proxy-using-laravel-valet","text":"valet proxy opensur http://127.0.0.1:8000 --secure Navigate to https://opensur.test/admin/ or http://opensur.test/graphql/ Remove a proxy using the unproxy command: valet unproxy opensur","title":"Start Proxy (using Laravel Valet)"},{"location":"api-setup/#make-sure-everthing-is-working-with-these-test-commands","text":"./manage.py test accounts.tests.test_admin_authority_user_crud.AdminAuthorityUserTests.test_update_with_error ./manage.py test reports.tests.test_admin_category_crud.AdminCategoryTests.test_simple_query ./manage.py test cases.tests.test_admin_state_definition_crud.AdminStateDefinitionTests.test_update_with_error","title":"Make sure everthing is working with these test commands"},{"location":"api-setup/#next-up-is-installing-the-ohtk-management-system","text":"","title":"Next up is installing the OHTK Management System &gt;"},{"location":"mobile-setup/","text":"OHTK Mobile OHTK mobile application for community and official reporting. What you'll need flutter android studio or xcode If necessary, add the Android emulator to your path export PATH=$PATH:~/Library/Android/sdk/emulator/ Install Get latest version of ohtk-mobile from github: git clone https://github.com/onehealthtoolkit/ohtk-mobile.git cd ohtk-mobile Run flutter build command flutter pub run build_runner build --delete-conflicting-outputs Change server to test server Change settings to opensur.test Config Android emulator to use localhost custom url endpoint # List all available emulators > emulator --list-avds # Start emulator in write mode # [AVD_NAME] such as Pixel_4_XL_API_25 > emulator -writable-system -netdelay none -netspeed full -avd [AVD_NAME] # Wait until emulator is completely started # Login as root > adb root # Remount emulator path /system to writable > adb remount # Upload hosts file to emulator > adb push /path/to/hosts /system/etc/ # List active reverse ports > adb reverse --list # Reverse port from localhost server port 8000 > adb reverse tcp:80 tcp:8000 Run Mobile App Now you're ready to actually test the app! Open your IDE and run the flutter program: ex. Visual Studio Code: Run > Run without Debugging Try logging in with one of the users created via the OHTK Management System","title":"OHTK Mobile"},{"location":"mobile-setup/#ohtk-mobile","text":"OHTK mobile application for community and official reporting.","title":"OHTK Mobile"},{"location":"mobile-setup/#what-youll-need","text":"flutter android studio or xcode If necessary, add the Android emulator to your path export PATH=$PATH:~/Library/Android/sdk/emulator/","title":"What you'll need"},{"location":"mobile-setup/#install","text":"Get latest version of ohtk-mobile from github: git clone https://github.com/onehealthtoolkit/ohtk-mobile.git cd ohtk-mobile Run flutter build command flutter pub run build_runner build --delete-conflicting-outputs","title":"Install"},{"location":"mobile-setup/#change-server-to-test-server","text":"Change settings to opensur.test","title":"Change server to test server"},{"location":"mobile-setup/#config-android-emulator-to-use-localhost-custom-url-endpoint","text":"# List all available emulators > emulator --list-avds # Start emulator in write mode # [AVD_NAME] such as Pixel_4_XL_API_25 > emulator -writable-system -netdelay none -netspeed full -avd [AVD_NAME] # Wait until emulator is completely started # Login as root > adb root # Remount emulator path /system to writable > adb remount # Upload hosts file to emulator > adb push /path/to/hosts /system/etc/ # List active reverse ports > adb reverse --list # Reverse port from localhost server port 8000 > adb reverse tcp:80 tcp:8000","title":"Config Android emulator to use localhost custom url endpoint"},{"location":"mobile-setup/#run-mobile-app","text":"Now you're ready to actually test the app! Open your IDE and run the flutter program: ex. Visual Studio Code: Run > Run without Debugging Try logging in with one of the users created via the OHTK Management System","title":"Run Mobile App"},{"location":"ms-setup/","text":"OHTK MS (Management System) What you'll need Node.js version 16.14 or above: When installing Node.js, you are recommended to check all checkboxes related to dependencies. NextJS React React-DOM npm install next react react-dom Install Get latest version of ohtk-ms from github: git clone https://github.com/onehealthtoolkit/ohtk-ms.git cd ohtk-ms Start Localhost Server npm run dev Navigate to your local host port 3000: http://localhost:3000 Create Required OHTK Data You need to create some records in order to use the mobile app \u2013 Authorities, Report Categories, Report Types, etc Next up is installing the OHTK Mobile App >","title":"OHTK MS (Management System)"},{"location":"ms-setup/#ohtk-ms-management-system","text":"","title":"OHTK MS (Management System)"},{"location":"ms-setup/#what-youll-need","text":"Node.js version 16.14 or above: When installing Node.js, you are recommended to check all checkboxes related to dependencies. NextJS React React-DOM npm install next react react-dom","title":"What you'll need"},{"location":"ms-setup/#install","text":"Get latest version of ohtk-ms from github: git clone https://github.com/onehealthtoolkit/ohtk-ms.git cd ohtk-ms","title":"Install"},{"location":"ms-setup/#start-localhost-server","text":"npm run dev Navigate to your local host port 3000: http://localhost:3000","title":"Start Localhost Server"},{"location":"ms-setup/#create-required-ohtk-data","text":"You need to create some records in order to use the mobile app \u2013 Authorities, Report Categories, Report Types, etc","title":"Create Required OHTK Data"},{"location":"ms-setup/#next-up-is-installing-the-ohtk-mobile-app","text":"","title":"Next up is installing the OHTK Mobile App &gt;"},{"location":"ohtk-api/","text":"OHTK API Configuring the API is the first step in installing the OHTK system. Setting up ohtk-api Using ohtk-api","title":"ohtk-api"},{"location":"ohtk-api/#ohtk-api","text":"Configuring the API is the first step in installing the OHTK system.","title":"OHTK API"},{"location":"ohtk-api/#setting-up-ohtk-api","text":"","title":"Setting up ohtk-api"},{"location":"ohtk-api/#using-ohtk-api","text":"","title":"Using ohtk-api"},{"location":"ohtk-mobile/","text":"OHTK Mobile OHTK mobile application for community and official reporting. Setting up ohtk-mobile Using ohtk-mobile","title":"ohtk-mobile"},{"location":"ohtk-mobile/#ohtk-mobile","text":"OHTK mobile application for community and official reporting.","title":"OHTK Mobile"},{"location":"ohtk-mobile/#setting-up-ohtk-mobile","text":"","title":"Setting up ohtk-mobile"},{"location":"ohtk-mobile/#using-ohtk-mobile","text":"","title":"Using ohtk-mobile"},{"location":"ohtk-ms/","text":"OHTK MS The One Health Management System.... Setting up ohtk-ms Using ohtk-ms","title":"ohtk-ms"},{"location":"ohtk-ms/#ohtk-ms","text":"The One Health Management System....","title":"OHTK MS"},{"location":"ohtk-ms/#setting-up-ohtk-ms","text":"","title":"Setting up ohtk-ms"},{"location":"ohtk-ms/#using-ohtk-ms","text":"","title":"Using ohtk-ms"},{"location":"quickstart/","text":"OHTK can be installed locally as a self-hosted project, or it can be hosted via the OHTK Cloud Service. In most cases, you'll want to start with installing the software locally in this order: ohtk-api ohtk-ms ohtk-mobile","title":"Getting Started"}]}