{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to OHTK Docs Welcome to the technical documentation for onehealthtoolkit.org . OHTK can be installed locally as a self-hosted project, or it can be hosted via the OHTK Cloud Service. Local Install Install OHTK Locally OHTK Cloud Install Setup OHTK Cloud Quick Start API Management System Mobile App","title":"Home"},{"location":"#welcome-to-ohtk-docs","text":"Welcome to the technical documentation for onehealthtoolkit.org . OHTK can be installed locally as a self-hosted project, or it can be hosted via the OHTK Cloud Service.","title":"Welcome to OHTK Docs"},{"location":"#local-install","text":"Install OHTK Locally","title":"Local Install"},{"location":"#ohtk-cloud-install","text":"Setup OHTK Cloud","title":"OHTK Cloud Install"},{"location":"#quick-start","text":"","title":"Quick Start"},{"location":"#api","text":"","title":"API"},{"location":"#management-system","text":"","title":"Management System"},{"location":"#mobile-app","text":"","title":"Mobile App"},{"location":"about/","text":"502 Bad Gateway 502 Bad Gateway nginx/1.14.2","title":"About"},{"location":"local-install/","text":"Local Install These are the instructions for installing OHTK on your local development machine. OHTK API Install API OHTK MS (Management System) Install MS OHTK Mobile Install Mobile App","title":"Quick Start"},{"location":"local-install/#local-install","text":"These are the instructions for installing OHTK on your local development machine.","title":"Local Install"},{"location":"local-install/#ohtk-api","text":"Install API","title":"OHTK API"},{"location":"local-install/#ohtk-ms-management-system","text":"Install MS","title":"OHTK MS (Management System)"},{"location":"local-install/#ohtk-mobile","text":"Install Mobile App","title":"OHTK Mobile"},{"location":"ohtk-api/","text":"OHTK API What you'll need python 3.8 or higher pip Laravel Valet (if using a proxy over HTTP) Install Get the latest version of ohtk-api git clone https://github.com/onehealthtoolkit/ohtk-api.git cd ohtk-api It is recommended that you install the required packages via a virtual environment (such as venv ): python -m venv pickavirtualenvname source pickavirtualenvname/bin/activate Install dependencies pip install -r requirements.txt Start a Postgres Server You can use the Postgres MacOS app for an easy-to-use interface. Update database settings (config/settings.py) DATABASES = { 'default': { 'ENGINE': 'django.db.backends.postgresql_psycopg2', 'NAME': 'database name', 'USER': 'username', 'PASSWORD': 'password', 'HOST': 'localhost', 'PORT': '', } } Run Django manage.py commands python ./manage.py migrate python ./manage.py createsuperuser Test data commands ./manage.py dumpdata --format=yaml accounts> accounts/fixtures/accounts.yaml ./manage.py loaddata --format=yaml accounts Start Local Server python ./manage.py runserver http://127.0.0.1:8000 Start Proxy (using Laravel Valet ) valet proxy opensur http://127.0.0.1:8000 --secure Navigate to https://opensur.test/admin/ or http://opensur.test/graphql/ Remove a proxy using the unproxy command: valet unproxy opensur Make sure everthing is working with these test commands ./manage.py test accounts.tests.test_admin_authority_user_crud.AdminAuthorityUserTests.test_update_with_error ./manage.py test reports.tests.test_admin_category_crud.AdminCategoryTests.test_simple_query ./manage.py test cases.tests.test_admin_state_definition_crud.AdminStateDefinitionTests.test_update_with_error Next up is installing the OHTK Management System >","title":"Ohtk api"},{"location":"ohtk-api/#ohtk-api","text":"","title":"OHTK API"},{"location":"ohtk-api/#what-youll-need","text":"python 3.8 or higher pip Laravel Valet (if using a proxy over HTTP)","title":"What you'll need"},{"location":"ohtk-api/#install","text":"Get the latest version of ohtk-api git clone https://github.com/onehealthtoolkit/ohtk-api.git cd ohtk-api It is recommended that you install the required packages via a virtual environment (such as venv ): python -m venv pickavirtualenvname source pickavirtualenvname/bin/activate Install dependencies pip install -r requirements.txt","title":"Install"},{"location":"ohtk-api/#start-a-postgres-server","text":"You can use the Postgres MacOS app for an easy-to-use interface.","title":"Start a Postgres Server"},{"location":"ohtk-api/#update-database-settings-configsettingspy","text":"DATABASES = { 'default': { 'ENGINE': 'django.db.backends.postgresql_psycopg2', 'NAME': 'database name', 'USER': 'username', 'PASSWORD': 'password', 'HOST': 'localhost', 'PORT': '', } }","title":"Update database settings (config/settings.py)"},{"location":"ohtk-api/#run-django-managepy-commands","text":"python ./manage.py migrate python ./manage.py createsuperuser","title":"Run Django manage.py commands"},{"location":"ohtk-api/#test-data-commands","text":"./manage.py dumpdata --format=yaml accounts> accounts/fixtures/accounts.yaml ./manage.py loaddata --format=yaml accounts","title":"Test data commands"},{"location":"ohtk-api/#start-local-server","text":"python ./manage.py runserver http://127.0.0.1:8000","title":"Start Local Server"},{"location":"ohtk-api/#start-proxy-using-laravel-valet","text":"valet proxy opensur http://127.0.0.1:8000 --secure Navigate to https://opensur.test/admin/ or http://opensur.test/graphql/ Remove a proxy using the unproxy command: valet unproxy opensur","title":"Start Proxy (using Laravel Valet)"},{"location":"ohtk-api/#make-sure-everthing-is-working-with-these-test-commands","text":"./manage.py test accounts.tests.test_admin_authority_user_crud.AdminAuthorityUserTests.test_update_with_error ./manage.py test reports.tests.test_admin_category_crud.AdminCategoryTests.test_simple_query ./manage.py test cases.tests.test_admin_state_definition_crud.AdminStateDefinitionTests.test_update_with_error","title":"Make sure everthing is working with these test commands"},{"location":"ohtk-api/#next-up-is-installing-the-ohtk-management-system","text":"","title":"Next up is installing the OHTK Management System &gt;"},{"location":"ohtk-mobile/","text":"OHTK Mobile OHTK mobile application for community and official reporting. What you'll need flutter android studio or xcode If necessary, add the Android emulator to your path export PATH=$PATH:~/Library/Android/sdk/emulator/ Install Get latest version of ohtk-mobile from github: git clone https://github.com/onehealthtoolkit/ohtk-mobile.git cd ohtk-mobile Run flutter build command flutter pub run build_runner build --delete-conflicting-outputs Change server to test server Change settings to opensur.test Config Android emulator to use localhost custom url endpoint # List all available emulators > emulator --list-avds # Start emulator in write mode # [AVD_NAME] such as Pixel_4_XL_API_25 > emulator -writable-system -netdelay none -netspeed full -avd [AVD_NAME] # Wait until emulator is completely started # Login as root > adb root # Remount emulator path /system to writable > adb remount # Upload hosts file to emulator > adb push /path/to/hosts /system/etc/ # List active reverse ports > adb reverse --list # Reverse port from localhost server port 8000 > adb reverse tcp:80 tcp:8000 Run Mobile App Now you're ready to actually test the app! Open your IDE and run the flutter program: ex. Visual Studio Code: Run > Run without Debugging Try logging in with one of the users created via the OHTK Management System","title":"OHTK Mobile"},{"location":"ohtk-mobile/#ohtk-mobile","text":"OHTK mobile application for community and official reporting.","title":"OHTK Mobile"},{"location":"ohtk-mobile/#what-youll-need","text":"flutter android studio or xcode If necessary, add the Android emulator to your path export PATH=$PATH:~/Library/Android/sdk/emulator/","title":"What you'll need"},{"location":"ohtk-mobile/#install","text":"Get latest version of ohtk-mobile from github: git clone https://github.com/onehealthtoolkit/ohtk-mobile.git cd ohtk-mobile Run flutter build command flutter pub run build_runner build --delete-conflicting-outputs","title":"Install"},{"location":"ohtk-mobile/#change-server-to-test-server","text":"Change settings to opensur.test","title":"Change server to test server"},{"location":"ohtk-mobile/#config-android-emulator-to-use-localhost-custom-url-endpoint","text":"# List all available emulators > emulator --list-avds # Start emulator in write mode # [AVD_NAME] such as Pixel_4_XL_API_25 > emulator -writable-system -netdelay none -netspeed full -avd [AVD_NAME] # Wait until emulator is completely started # Login as root > adb root # Remount emulator path /system to writable > adb remount # Upload hosts file to emulator > adb push /path/to/hosts /system/etc/ # List active reverse ports > adb reverse --list # Reverse port from localhost server port 8000 > adb reverse tcp:80 tcp:8000","title":"Config Android emulator to use localhost custom url endpoint"},{"location":"ohtk-mobile/#run-mobile-app","text":"Now you're ready to actually test the app! Open your IDE and run the flutter program: ex. Visual Studio Code: Run > Run without Debugging Try logging in with one of the users created via the OHTK Management System","title":"Run Mobile App"},{"location":"ohtk-ms/","text":"OHTK MS (Management System) What you'll need Node.js version 16.14 or above: When installing Node.js, you are recommended to check all checkboxes related to dependencies. NextJS React React-DOM npm install next react react-dom Install Get latest version of ohtk-ms from github: git clone https://github.com/onehealthtoolkit/ohtk-ms.git cd ohtk-ms Start Localhost Server npm run dev Navigate to your local host port 3000: http://localhost:3000 Create Required OHTK Data You need to create some records in order to use the mobile app \u2013 Authorities, Report Categories, Report Types, etc Next up is installing the OHTK Mobile App >","title":"OHTK MS (Management System)"},{"location":"ohtk-ms/#ohtk-ms-management-system","text":"","title":"OHTK MS (Management System)"},{"location":"ohtk-ms/#what-youll-need","text":"Node.js version 16.14 or above: When installing Node.js, you are recommended to check all checkboxes related to dependencies. NextJS React React-DOM npm install next react react-dom","title":"What you'll need"},{"location":"ohtk-ms/#install","text":"Get latest version of ohtk-ms from github: git clone https://github.com/onehealthtoolkit/ohtk-ms.git cd ohtk-ms","title":"Install"},{"location":"ohtk-ms/#start-localhost-server","text":"npm run dev Navigate to your local host port 3000: http://localhost:3000","title":"Start Localhost Server"},{"location":"ohtk-ms/#create-required-ohtk-data","text":"You need to create some records in order to use the mobile app \u2013 Authorities, Report Categories, Report Types, etc","title":"Create Required OHTK Data"},{"location":"ohtk-ms/#next-up-is-installing-the-ohtk-mobile-app","text":"","title":"Next up is installing the OHTK Mobile App &gt;"}]}